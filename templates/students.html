{% extends "base.html" %}
{% block title %}Subjects{% endblock %}
{% block content %}
<div class="d-flex justify-content-between mb-3">
  <a class="back-btn" href="{{ url_for('principal_dashboard') }}">Back</a>
  {% if session.get('role')=='Principal' %}
    <a class="btn btn-success" href="{{ url_for('add_subject') }}">Add Subject</a>
  {% endif %}
</div>

<div class="card card-glass p-2 shadow-sm">
  <table class="table mb-0">
    <thead><tr><th style="width:80px;">ID</th><th>Name</th><th style="width:150px;">Actions</th></tr></thead>
    <tbody>
      {% for sub in subjects %}
        <tr>
          <td>{{ sub.id }}</td>
          <td>{{ sub.name }}</td>
          <td>
            {% if session.get('role') == 'Principal' %}
              <form method="post"
                    action="{{ url_for('delete_subject', id=sub.id) }}"
                    onsubmit="return confirm('Are you sure you want to delete this subject?')">
                <button class="btn btn-sm btn-danger" type="submit"><i class="bi bi-trash3"></i> Delete</button>
              </form>
            {% else %}
              <span class="text-muted">â€”</span>
            {% endif %}
          </td>
        </tr>
      {% else %}
        <tr><td colspan="3" class="text-muted text-center py-3">No subjects added yet.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
